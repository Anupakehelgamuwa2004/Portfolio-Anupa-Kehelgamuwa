<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dinira Pathirana | Full-Stack Developer</title>

  <link rel="icon" href="images/favicon.png" />
  <link rel="stylesheet" href="styles.css" />

  <!-- icons + GSAP -->
  <script src="https://kit.fontawesome.com/c69f750e65.js" crossorigin="anonymous" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js" defer></script>
</head>
<body>

  <!-- ╭─ NAVIGATION BAR ───────────────────────────────────╮ -->
  <nav class="navbar glass">
    <a href="#header" class="brand">
      <img src="../PortfolioWebsite/images/Logo_-_Anupa.png" alt="logo">
    </a>

    <button class="nav-toggle" aria-label="toggle navigation">
      <span class="bar"></span><span class="bar"></span><span class="bar"></span>
    </button>

    <ul class="nav-links">
      <li><a href="#header"    class="nav-item active">Home</a></li>
      <li><a href="#about"     class="nav-item">About</a></li>
      <li><a href="#portfolio" class="nav-item">Portfolio</a></li>
      <li><a href="#contact"   class="nav-item">Contact</a></li>
    </ul>
  </nav>

  <!-- ╭─ HERO ───────────────────────────────────────────────╮ -->
  <header id="header" class="snap hero-section">
    <div class="hero-overlay"></div>

    <div class="hero-inner container">
      <h1 class="hero-heading">
        <span class="hi">Hi, I’m</span>
        <span class="name">Anupa Kehelgamuwa</span>
      </h1>

      <div class="typewriter-wrap">
        <span class="typewriter-text">LEARN • ADAPT • DELIVER •</span>
      </div>

      <p class="meta-info">
        <i class="fa-solid fa-code-branch"></i>
        <span>Software Engineering Intern</span>

        <i class="fa-solid fa-location-dot sep"></i>
        <span>Colombo, Sri&nbsp;Lanka</span>

        <i class="fa-solid fa-building sep"></i>
        <a href="https://ossec.co.jp/" target="_blank">Ossec&nbsp;Inc.</a>
      </p>

      <div class="cta-buttons">
        <a href="#portfolio" class="btn primary glow">View&nbsp;Portfolio</a>
        <a href="#contact" class="btn outline">Connect</a>
      </div>
    </div>

    <div class="scroll-indicator"><span></span></div>
  </header>

  <!-- ╭─ ABOUT ──────────────────────────────────────────────╮ -->
  <section id="about" class="snap reveal">
    <div class="about-card">
      <div class="avatar-blob">
        <img src="../PortfolioWebsite/images/profile_pic.JPEG" alt="profile">
      </div>

      <div class="about-content">
        <h2 class="about-title">About Me <span class="emoji">⚡</span></h2>

        <p>
          Hi! I’m <strong>Anupa Kehelgamuwa</strong>, a Sri-Lankan
          <strong>Full-Stack Developer</strong> obsessed with building
          <em>fast, beautiful, scalable</em> products. My toolbox overflows with
          <em>Java · Spring Boot · Angular · Kotlin · Flutter · SQL</em>.
        </p>

        <p>
          I’m wrapping up a <strong>BSc in Computer Science</strong>, and I’ve
          already shipped <em>live ticketing platforms</em>, indie <em>3-D games</em>,
          and multi-tenant <em>transaction systems</em>. I learn at lightspeed
          and write code that feels like poetry.
        </p>

        <div class="stats">
          <div><span class="counter" data-val="4">0</span><small>YEARS CODING</small></div>
          <div><span class="counter" data-val="25">0</span><small>PROJECTS</small></div>
          <div><span class="counter" data-val="734">0</span><small>CUPS OF COFFEE</small></div>
        </div>

        <nav class="tab-bar">
          <button class="tab-btn active" onclick="openTab('skills')">Skills</button>
          <button class="tab-btn"        onclick="openTab('edu')">Education</button>
          <button class="tab-btn"        onclick="openTab('extra')">Extracurricular</button>
        </nav>

        <div class="tab-panel active" id="skills">
          <div class="chip-grid">
            <span class="chip">Java</span><span class="chip">Spring Boot</span>
            <span class="chip">Angular</span><span class="chip">Kotlin</span>
            <span class="chip">Flutter</span><span class="chip">SQL</span>
            <span class="chip">TypeScript</span><span class="chip">Express.js</span>
          </div>
        </div>

        <div class="tab-panel" id="edu">
          <ul class="edu-list">
            <li><span>UCLan — BSc (Hons) Software Engineering</span><em>Expected Aug 2025</em></li>
            <li><span>Cambridge O-Levels</span><em>4 A* · 2 A · 1 B · 1 C</em></li>
            <li><span>GCE A-Levels</span><em>2 C · 1 S</em></li>
          </ul>
        </div>

        <div class="tab-panel" id="extra">
          <ul class="extra-list">
            <li>Junior & Senior Prefect</li>
            <li>House Captain</li>
            <li>Badminton Team · Chess Club</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- ╭─ PORTFOLIO ──────────────────────────────────────────╮ -->
  <section id="portfolio" class="snap reveal">
    <div class="container">
      <h2 class="section-title">My Work</h2>

      <div class="carousel-window">
        <div class="carousel-track" id="track">

          <!-- CARD 1 -->
          <article class="card">
            <div class="card-img"><img src="images/work1.png" alt="Ticketing System Backend"></div>
            <div class="card-info">
              <h3 class="card-title">Ticketing System Backend</h3>
              <p class="card-desc">Node & Express API powering real-time ticket sales.</p>
              <div class="tag-wrap">
                <span class="tag">Node.js</span>
                <span class="tag">Express</span>
                <span class="tag">Socket.IO</span>
              </div>
            </div>
            <span class="card-cta"><i class="fa-solid fa-arrow-up-right-from-square"></i></span>
          </article>

          <!-- duplicate cards … add your real projects -->
          <article class="card">
            <div class="card-img"><img src="images/work1.png" alt=""></div>
            <div class="card-info">
              <h3 class="card-title">Another Project</h3>
              <p class="card-desc">Short project description goes here.</p>
              <div class="tag-wrap">
                <span class="tag">Tech1</span><span class="tag">Tech2</span>
              </div>
            </div>
            <span class="card-cta"><i class="fa-solid fa-arrow-up-right-from-square"></i></span>
          </article>
          <article class="card">
            <div class="card-img"><img src="images/work1.png" alt=""></div>
            <div class="card-info">
              <h3 class="card-title">Another Project</h3>
              <p class="card-desc">Short project description goes here.</p>
              <div class="tag-wrap">
                <span class="tag">Tech1</span><span class="tag">Tech2</span>
              </div>
            </div>
            <span class="card-cta"><i class="fa-solid fa-arrow-up-right-from-square"></i></span>
          </article>
          <article class="card">
            <div class="card-img"><img src="images/work1.png" alt=""></div>
            <div class="card-info">
              <h3 class="card-title">Another Project</h3>
              <p class="card-desc">Short project description goes here.</p>
              <div class="tag-wrap">
                <span class="tag">Tech1</span><span class="tag">Tech2</span>
              </div>
            </div>
            <span class="card-cta"><i class="fa-solid fa-arrow-up-right-from-square"></i></span>
          </article>
          <article class="card">
            <div class="card-img"><img src="images/work1.png" alt=""></div>
            <div class="card-info">
              <h3 class="card-title">Another Project</h3>
              <p class="card-desc">Short project description goes here.</p>
              <div class="tag-wrap">
                <span class="tag">Tech1</span><span class="tag">Tech2</span>
              </div>
            </div>
            <span class="card-cta"><i class="fa-solid fa-arrow-up-right-from-square"></i></span>
          </article>
          <article class="card">
            <div class="card-img"><img src="images/work1.png" alt=""></div>
            <div class="card-info">
              <h3 class="card-title">Another Project</h3>
              <p class="card-desc">Short project description goes here.</p>
              <div class="tag-wrap">
                <span class="tag">Tech1</span><span class="tag">Tech2</span>
              </div>
            </div>
            <span class="card-cta"><i class="fa-solid fa-arrow-up-right-from-square"></i></span>
          </article>

        </div>
      </div>

      <div class="dots" id="dots"></div>
    </div>
  </section>

  <!-- ╭─ CONTACT ────────────────────────────────────────────╮ -->
  <section id="contact" class="snap reveal">
    <div class="contact-wrap">
      <div class="contact-grid">
        <div class="contact-left">
          <h2>Contact Me</h2>
          <p><i class="fa-solid fa-paper-plane"></i> pathiranadinira@gmail.com</p>
          <p><i class="fa-solid fa-square-phone"></i> +94 777 427 4044</p>

          <div class="social-icons">
            <a href="#"><i class="fa-brands fa-facebook"></i></a>
            <a href="#"><i class="fa-brands fa-instagram"></i></a>
            <a href="#"><i class="fa-brands fa-linkedin"></i></a>
          </div>

          <a href="images/Dinira_Pathirana_CV.pdf" download class="btn primary">Download CV</a>
        </div>

        <form class="contact-right">
          <input type="text" placeholder="Your Name" required>
          <input type="email" placeholder="Your Email" required>
          <textarea rows="6" placeholder="Your Message"></textarea>
          <button type="submit" class="btn primary">Submit</button>
        </form>
      </div>

      <footer class="footer-bar">© 2025 Dinira Pathirana · Made with ❤️</footer>
    </div>
  </section>

  <!-- ╭─ SCRIPTS ─────────────────────────────────────────────╮ -->
  <script>
    /* ─── Mobile nav toggle ─────────────────────────────── */
    const toggle   = document.querySelector('.nav-toggle');
    const navLinks = document.querySelector('.nav-links');
    toggle.addEventListener('click', () => {
      toggle.classList.toggle('open');
      navLinks.classList.toggle('open');
    });

    /* ─── Active link highlight on scroll ───────────────── */
    const sections = ['header','about','portfolio','contact']
      .map(id => document.getElementById(id));
    window.addEventListener('scroll', () => {
      let cur = sections[0].id;
      sections.forEach(sec => {
        if(window.scrollY + 95 >= sec.offsetTop) cur = sec.id;
      });
      document.querySelectorAll('.nav-item').forEach(a =>
        a.classList.toggle('active', a.getAttribute('href') === '#' + cur)
      );
    });

    /* ─── Tabs ─────────────────────────────────────────── */
    function openTab(id){
      document.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove('active'));
      document.querySelectorAll('.tab-panel').forEach(p=>p.classList.remove('active'));
      event.currentTarget.classList.add('active');
      document.getElementById(id).classList.add('active');
    }

    /* ─── Counters ─────────────────────────────────────── */
    function runCounters(){
      document.querySelectorAll('.counter').forEach(span=>{
        const end = +span.dataset.val;
        let cur = 0;
        const step = Math.max(1, Math.ceil(end/50));
        const tick = setInterval(()=>{
          cur += step;
          span.textContent = cur >= end ? end : cur;
          if(cur >= end) clearInterval(tick);
        }, 25);
      });
    }

    /* ─── GSAP Reveal + Counter Trigger ────────────────── */
    window.addEventListener('load', ()=>{
      gsap.registerPlugin(ScrollTrigger);
      gsap.utils.toArray('.reveal').forEach(el=>{
        gsap.from(el,{
          opacity:0,
          y:120,
          duration:1,
          ease:'back.out(1.7)',
          scrollTrigger:{ trigger:el, start:'top 80%' }
        });
      });
      ScrollTrigger.create({
        trigger:'#about',
        start:'top 55%',
        once:true,
        onEnter: runCounters
      });
    });

    /* ─── Carousel Builder ────────────────────────────── */
    const track = document.getElementById('track'),
          dots  = document.getElementById('dots');
    let idx = 0;

    function buildCarousel(){
      const cpp   = innerWidth > 1024 ? 3 : innerWidth > 600 ? 2 : 1;
      const total = track.children.length;
      const pages = Math.ceil(total / cpp);

      const gapPx = parseFloat(getComputedStyle(track).gap);
      const winW  = track.parentElement.clientWidth;
      const cardW = (winW - gapPx * (cpp - 1)) / cpp;
      const trackW = pages * winW + gapPx * (pages - 1);

      track.style.width = trackW + 'px';
      Array.from(track.children).forEach(card=>{
        card.style.flex = `0 0 ${cardW}px`;
      });

      dots.innerHTML = '';
      for(let i=0;i<pages;i++){
        const d=document.createElement('span');
        d.className='dot'+(i===0?' active':'');
        d.onclick=()=>slide(i);
        dots.appendChild(d);
      }
      track.dataset.pages=pages;
      slide(0,false);
    }

    function slide(p,anim=true){
      const pages=+track.dataset.pages;
      idx=(p+pages)%pages;
      track.style.transition=anim?'transform .6s ease':'none';
      track.style.transform=`translateX(-${idx*(100/pages)}%)`;
      dots.querySelectorAll('.dot').forEach((d,i)=>d.classList.toggle('active', i===idx));
    }

    setInterval(()=>slide(idx+1),7000);
    window.addEventListener('resize', buildCarousel);
    buildCarousel();

    /* ─── 3-D Tilt on cards ────────────────────────────── */
    document.querySelectorAll('.card').forEach(card=>{
      const w=card.offsetWidth,h=card.offsetHeight,max=8;
      card.addEventListener('mousemove',e=>{
        const {offsetX:x,offsetY:y}=e;
        const rotY=((x-w/2)/(w/2))*max;
        const rotX=((y-h/2)/(h/2))*-max;
        card.style.transform=`perspective(900px) rotateX(${rotX}deg) rotateY(${rotY}deg)`;
      });
      card.addEventListener('mouseleave',()=>card.style.transform='perspective(900px)');
    });
  </script>
</body>
</html>
